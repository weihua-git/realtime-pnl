# 📖 Web 配置界面使用示例

## 场景 1：修改价格目标

### 需求
将 ETH-USDT 的目标价从 2200 改为 2300

### 操作步骤

1. **打开配置页面**
   - 手机或电脑访问 http://localhost:3000
   - 或局域网访问 http://你的IP:3000

2. **修改价格目标**
   - 找到"🎯 价格目标监控"卡片
   - 找到 ETH-USDT 那一行
   - 将目标价格从 2200 改为 2300
   - 确认方向是"达到 ≥"

3. **保存配置**
   - 滚动到底部
   - 点击"💾 保存配置"按钮
   - 看到"✅ 配置已保存"提示

4. **验证生效**
   - 查看监控程序终端
   - 10 秒内会看到：
   ```
   🔄 检测到配置变化，正在应用新配置...
   ✅ 新配置已应用
   
   💡 行情监控配置：
      - ETH-USDT: 达到 2300 USDT
   ```

5. **等待通知**
   - 当 ETH 价格达到 2300 时
   - 会收到 Bark/Telegram 通知

---

## 场景 2：添加新的价格目标

### 需求
监控 BTC-USDT 跌破 50000

### 操作步骤

1. **打开配置页面**

2. **添加新目标**
   - 找到"🎯 价格目标监控"卡片
   - 点击底部"➕ 添加目标"按钮
   - 新增一行配置

3. **设置参数**
   - 币种：选择 BTC-USDT
   - 目标价格：输入 50000
   - 方向：选择"跌破 ≤"

4. **保存配置**
   - 点击"💾 保存配置"

5. **验证**
   - 监控程序会显示：
   ```
   💡 行情监控配置：
      - ETH-USDT: 达到 2300 USDT
      - BTC-USDT: 跌破 50000 USDT
   ```

---

## 场景 3：开启多时间窗口监控

### 需求
监控 ETH 在 1 分钟内涨跌超过 1% 或 10 USDT

### 操作步骤

1. **打开配置页面**

2. **开启功能**
   - 找到"⏱️ 多时间窗口监控"卡片
   - 点击右上角开关，开启功能

3. **修改 1 分钟窗口**
   - 找到"1分钟"配置项
   - 变化幅度：改为 1
   - 变化金额：改为 10

4. **设置通知间隔**
   - 通知间隔：设置为 5（分钟）
   - 避免频繁通知

5. **保存配置**

6. **验证**
   - 监控程序会显示：
   ```
   💡 行情监控配置：
      多时间窗口监控: ✅ 开启
         - 1分钟: 变化 1% 或 10 USDT 时通知
      通知间隔: 同一合约最少 5 分钟
   ```

---

## 场景 4：调整持仓通知阈值

### 需求
盈利 5% 或 10 USDT 时通知

### 操作步骤

1. **打开配置页面**

2. **修改盈利通知**
   - 找到"🔔 持仓通知配置"卡片
   - 确保"盈利通知"已勾选
   - 盈利比例：改为 5
   - 盈利金额：改为 10

3. **关闭亏损通知**
   - 取消勾选"亏损通知"
   - 避免负面情绪

4. **保存配置**

5. **验证**
   - 监控程序会显示：
   ```
   💡 持仓监控配置：
      盈利通知: ✅ 5% 或 10 USDT
      亏损通知: ❌
   ```

---

## 场景 5：添加新的监控合约

### 需求
添加 SOL-USDT 到监控列表

### 操作步骤

1. **打开配置页面**

2. **选择合约**
   - 找到"📋 监控合约列表"卡片
   - 勾选 SOL-USDT

3. **保存配置**

4. **验证**
   - 监控程序会显示：
   ```
   💡 行情监控配置：
      监控合约: ETH-USDT, SOL-USDT
   ```
   - 并且会自动订阅 SOL-USDT 的行情

---

## 场景 6：手机上快速调整

### 需求
在外面用手机快速修改配置

### 操作步骤

1. **添加到主屏幕**（首次）
   - iOS: Safari 打开 → 分享 → 添加到主屏幕
   - Android: Chrome 打开 → 菜单 → 添加到主屏幕

2. **快速访问**
   - 点击主屏幕图标
   - 像 App 一样打开

3. **修改配置**
   - 手机界面自动适配
   - 所有功能都可用

4. **保存生效**
   - 点击保存
   - 10 秒内自动生效

---

## 💡 使用技巧

### 1. 配置备份

配置文件在 `data/config.json`，可以手动备份：

```bash
cp data/config.json data/config.backup.json
```

### 2. 批量修改

如果需要批量修改，可以直接编辑 `data/config.json`：

```bash
# 编辑配置文件
nano data/config.json

# 保存后 10 秒内自动生效
```

### 3. 恢复默认配置

删除配置文件，程序会使用默认配置：

```bash
rm data/config.json
```

### 4. 查看实时日志

监控程序会实时输出配置变化和监控状态：

```bash
npm start
```

### 5. 多设备同步

配置文件是共享的，在任何设备修改都会同步：

- 电脑修改 → 手机看到
- 手机修改 → 电脑看到
- 直接编辑文件 → 所有设备看到

---

## 🐛 常见问题

### Q: 修改后没有立即生效？

A: 配置检查间隔是 10 秒，最多等待 10 秒。

### Q: 可以同时修改多个配置吗？

A: 可以！一次性修改多个配置，然后点击保存，所有配置会一起生效。

### Q: 配置会丢失吗？

A: 不会。配置保存在 `data/config.json` 文件中，重启程序也不会丢失。

### Q: 可以在服务器上使用吗？

A: 可以！部署到服务器后，通过服务器 IP 访问配置页面。

### Q: 支持多用户吗？

A: 当前版本是单用户。如需多用户，可以为每个用户部署独立实例。

---

## 📱 移动端截图

```
┌─────────────────────────────────────┐
│  📊 HTX 监控配置                     │
├─────────────────────────────────────┤
│  [⚙️ 配置管理] [📈 数据展示]         │
├─────────────────────────────────────┤
│                                     │
│  🎯 价格目标监控            [ON]    │
│  ┌─────────────────────────────┐   │
│  │ ETH-USDT  2300  达到≥  [🗑️] │   │
│  └─────────────────────────────┘   │
│  [➕ 添加目标]                      │
│                                     │
│  📋 监控合约列表                     │
│  ☑️ ETH-USDT  ☑️ BTC-USDT          │
│  ☐ SOL-USDT  ☐ DOGE-USDT          │
│                                     │
│  ⏱️ 多时间窗口监控          [OFF]   │
│                                     │
│  🔔 持仓通知配置                     │
│  ☑️ 盈利通知                        │
│     盈利比例: 5%                    │
│     盈利金额: 10 USDT               │
│                                     │
│  [💾 保存配置]                      │
└─────────────────────────────────────┘
```

简洁、直观、易用！
